# Metricbeat Metrics Simulation Script

This Python script simulates various system metrics similar to those generated by Metricbeat and sends them to an Elasticsearch index. It's designed to mimic the data you would find in the Kibana Metricbeat index and is useful for testing and development purposes, especially in an observability or infrastructure monitoring context.

## Overview

The script generates random metrics for CPU, memory, filesystem, network, and system processes, similar to what Metricbeat would collect from a system. These metrics are then sent to a specified Elasticsearch index.

## Getting Started

These instructions will guide you through setting up and running the script in your environment.

### Prerequisites

- Python 3.x
- Elasticsearch cluster
- `elasticsearch` Python client (Install using `pip install elasticsearch`)

### Configuration

Before running the script, you need to set the following variables in the script:

- `es_host`: The URL of your Elasticsearch cluster.
- `es_username`: The username for connecting to Elasticsearch (if applicable).
- `es_password`: The password for connecting to Elasticsearch (if applicable).

### Running the Script

1. **Set up your Python environment:**

   It is recommended to use a virtual environment.

   ```bash
   python -m venv venv
   source venv/bin/activate
   pip install elasticsearch
   ```

2. **Run the script:**

   ```bash
   python main.py
   ```

   The script will start sending simulated metrics to your Elasticsearch cluster.

### Data in Elasticsearch

The data sent by the script can be viewed in your Elasticsearch cluster. The default index used is `metricbeat-8.11.1`. You can modify this in the script if needed.

### Visualization in Kibana

To see visualize data in Kibana:

1. Navigate to **Observability >> Infrastructure**.
2. Ensure that the index pattern used by the script is included in your Kibana index patterns.
3. You should now be able to see the simulated metrics in the same way you would view data from Metricbeat.

## Customization

You can customize the script to generate different types of metrics or to mimic other beats as needed.

## Note

This script is for simulation and testing purposes only and should not be used as a replacement for Metricbeat in production environments.

---

Ensure your Elasticsearch cluster is properly secured and accessible from the environment where the script is running.
